@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=VT323&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Base Styles */
body {
  background-color: #020202;
  margin: 0;
  /* Fix for elastic scroll on iOS */
  position: fixed;
  width: 100%;
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
}

/* Custom Scrollbar */
::-webkit-scrollbar { width: 0px; background: transparent; }

/* TV Screen Container Styles */
.tv-bezel {
  width: 100vw;
  height: 100vh; /* Fallback */
  height: 100dvh; /* Mobile Viewport Fix */
  background-color: #080808;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
  z-index: 0;
  
  /* Base styles (Mobile & Desktop) */
  padding: 0.75rem; /* Small frame on mobile */
  /* Subtle noise texture for plastic casing */
  background-image: 
    radial-gradient(circle at center, #151515 0%, #050505 100%);
}

.tv-screen {
  position: relative;
  width: 100%;
  height: 100%;
  background-color: #050505;
  overflow: hidden;
  z-index: 1;
  
  /* Base styles (Mobile & Desktop) */
  /* Distinctive CRT curvature shape - smaller on mobile */
  border-radius: 1rem; 
  /* Physical depth shadows (Inset) */
  box-shadow: 
    inset 0 0 0 1px rgba(30,30,30,0.5),
    0 0 0 1px rgba(0,0,0,1);
  
  /* Hardware Acceleration Hint for container */
  transform: translateZ(0);
}

/* Desktop: Bezel and rounded corners overrides */
@media (min-width: 768px) {
  .tv-bezel {
    padding: 3rem;
  }
  
  .tv-screen {
    border-radius: 2rem;
    box-shadow: 
      inset 0 0 0 2px rgba(30,30,30,0.5),
      0 0 0 1px rgba(0,0,0,1);
  }
}

/* === КОНТЕЙНЕР СЛАЙДА === */
.slide-container {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  transform-origin: center center;
  /* Подсказываем браузеру, что будет меняться */
  will-change: transform, filter;
}

/* === ПРИМЕНЕНИЕ АНИМАЦИИ === */

/* 1. По умолчанию (МОБИЛКИ) - Легкая версия */
.slide-container.distorting {
  animation: fisheye-aberration-mobile 0.9s cubic-bezier(0.8, 0, 0.2, 1) forwards;
}

/* 2. На ПК (экраны шире 768px) - Тяжелая версия */
@media (min-width: 768px) {
  .slide-container.distorting {
    animation: fisheye-aberration-desktop 0.9s cubic-bezier(0.8, 0, 0.2, 1) forwards;
  }
}

/* === САМИ АНИМАЦИИ === */

/* ЛЕГКАЯ ВЕРСИЯ (Mobile) - без text-shadow, минимум блюра */
@keyframes fisheye-aberration-mobile {
  0% { 
    transform: scale(1);
    filter: blur(0) brightness(1) hue-rotate(0deg);
  }
  10% {
    transform: scale(0.95);
  }
  40% {
    transform: scale(1.4);
    /* Чуть-чуть блюра можно, но без теней */
    filter: blur(1px) brightness(1.2) hue-rotate(-10deg);
  }
  50% {
    transform: scale(1.5) skewX(5deg);
    /* Максимальный эффект без убийства CPU */
    filter: blur(2px) brightness(1.4) hue-rotate(45deg);
  }
  60% {
    transform: scale(1.4);
    filter: blur(1px) brightness(1.2) hue-rotate(10deg);
  }
  90% {
     transform: scale(1.02);
     filter: blur(0) brightness(1.1);
  }
  100% { 
    transform: scale(1);
    filter: blur(0) brightness(1) hue-rotate(0deg);
  }
}

/* ТЯЖЕЛАЯ ВЕРСИЯ (Desktop) - c RGB split и жирным блюром */
@keyframes fisheye-aberration-desktop {
  0% { 
    transform: scale(1);
    filter: blur(0) brightness(1) hue-rotate(0deg);
    text-shadow: 0 0 0 transparent;
  }
  10% {
    transform: scale(0.95);
    text-shadow: 2px 0 rgba(255,0,0,0.5), -2px 0 rgba(0,0,255,0.5);
  }
  40% {
    transform: scale(1.4);
    filter: blur(2px) brightness(1.3) hue-rotate(-10deg);
    text-shadow: 10px 0 rgba(255,0,0,0.7), -10px 0 rgba(0,0,255,0.7);
  }
  50% {
    transform: scale(1.5) skewX(5deg);
    filter: blur(4px) brightness(1.5) hue-rotate(45deg) contrast(2);
    text-shadow: 20px 0 red, -20px 0 blue;
  }
  60% {
    transform: scale(1.4);
    filter: blur(2px) brightness(1.3) hue-rotate(10deg);
    text-shadow: 10px 0 rgba(255,0,0,0.7), -10px 0 rgba(0,0,255,0.7);
  }
  90% {
     transform: scale(1.02);
     filter: blur(0) brightness(1.1);
     text-shadow: 2px 0 rgba(255,0,0,0.3), -2px 0 rgba(0,0,255,0.3);
  }
  100% { 
    transform: scale(1);
    filter: blur(0) brightness(1) hue-rotate(0deg);
    text-shadow: 0 0 0 transparent;
  }
}


@keyframes tracking {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(4px); }
}

@keyframes noise {
  0%, 100% { background-position: 0 0; }
  20% { background-position: -5% 5%; }
  40% { background-position: -5% 25%; }
  60% { background-position: 15% 5%; }
  80% { background-position: 25% 15%; }
}

@keyframes glitch-1 {
  0%, 100% { transform: translate(-2px, -2px); clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%); }
  20% { transform: translate(4px, -4px); clip-path: polygon(0 15%, 100% 15%, 100% 60%, 0 60%); }
  40% { transform: translate(-4px, 4px); clip-path: polygon(0 10%, 100% 10%, 100% 80%, 0 80%); }
  60% { transform: translate(2px, -2px); clip-path: polygon(0 40%, 100% 40%, 100% 90%, 0 90%); }
}

@keyframes glitch-2 {
  0%, 100% { transform: translate(2px, 2px); clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%); }
  25% { transform: translate(-4px, 4px); clip-path: polygon(0 40%, 100% 40%, 100% 85%, 0 85%); }
  50% { transform: translate(3px, -5px); clip-path: polygon(0 20%, 100% 20%, 100% 55%, 0 55%); }
  75% { transform: translate(-2px, 2px); clip-path: polygon(0 60%, 100% 60%, 100% 95%, 0 95%); }
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  3% { opacity: 0.8; }
  6% { opacity: 1; }
  7% { opacity: 0.9; }
  8% { opacity: 1; }
  9% { opacity: 0.1; }
  10% { opacity: 1; }
}

@keyframes pulse-slow {
   0%, 100% { opacity: 0.6; }
   50% { opacity: 1; }
}

@keyframes mobile-button-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 10px rgba(0, 240, 255, 0.4));
  }
  50% {
    filter: drop-shadow(0 0 25px rgba(0, 240, 255, 0.9));
  }
}

/* Typography Utilities */
.font-vt { font-family: 'VT323', monospace; }
.font-grotesk { font-family: 'Space Grotesk', sans-serif; }

/* Utility class for GPU Promotion */
.will-change-transform {
  will-change: transform;
}
